---
> **ARTS-week-31**
> 2023-07-30 09:00
---


## ARTS-2019 å·¦è€³å¬é£ç¤¾ç¾¤æ´»åŠ¨--æ¯å‘¨å®Œæˆä¸€ä¸ª ARTS
1.Algorithmï¼š æ¯å‘¨è‡³å°‘åšä¸€ä¸ª leetcode çš„ç®—æ³•é¢˜
2.Review: é˜…è¯»å¹¶ç‚¹è¯„è‡³å°‘ä¸€ç¯‡è‹±æ–‡æŠ€æœ¯æ–‡ç« 
3.Tip: å­¦ä¹ è‡³å°‘ä¸€ä¸ªæŠ€æœ¯æŠ€å·§
4.Share: åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç« 

### 1.Algorithm:

- [2208. å°†æ•°ç»„å’Œå‡åŠçš„æœ€å°‘æ“ä½œæ¬¡æ•°](https://leetcode.cn/problems/minimum-operations-to-halve-array-sum/submissions/449909080/)  
    + æ€è·¯ï¼šé˜Ÿåˆ—
- [142. ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/submissions/451502803/)  
    + æ€è·¯ï¼šåŒæŒ‡é’ˆ
- [834. æ ‘ä¸­è·ç¦»ä¹‹å’Œ](https://leetcode.cn/problems/sum-of-distances-in-tree/submissions/451504020/)  
    + æ€è·¯ï¼šæ ‘å‹dp

### 2.Review:

[äº†è§£ç½‘ç»œå®‰å…¨ğŸš¨ä¸­çš„ CORS å’ŒåŒæºç­–ç•¥](https://dev.to/burakboduroglu/understanding-cors-and-same-origin-policy-in-web-security-54hm)

åœ¨ Web å®‰å…¨å’Œæµè§ˆå™¨å®‰å…¨é¢†åŸŸï¼Œä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µå‘æŒ¥ç€é‡è¦ä½œç”¨ï¼šCORSï¼ˆCross-Origin Resource Sharing è·¨æºèµ„æºå…±äº«ï¼‰å’Œ SOP(Same Origin Policy åŒæºç­–ç•¥) ã€‚è¿™ç¯‡åšæ–‡æ—¨åœ¨é˜æ˜è¿™äº›æ¦‚å¿µåŠå…¶åœ¨ç¡®ä¿å®‰å…¨ Web äº¤äº’æ–¹é¢çš„é‡è¦æ€§ã€‚

#### 1. åŒæºç­–ç•¥ï¼š

åŒæºç­–ç•¥æ˜¯ç”± Web æµè§ˆå™¨å®æ–½çš„å®‰å…¨æªæ–½ï¼Œå®ƒå…è®¸åœ¨ç½‘é¡µä¸Šæ‰§è¡Œçš„ JavaScript ä»£ç ä»…è®¿é—®æ¥è‡ªåŒä¸€æºçš„èµ„æºï¼Œè¯¥æºåŒ…å«ç›¸åŒçš„åŸŸã€åè®®å’Œç«¯å£ç»„åˆã€‚æ­¤ç­–ç•¥å¯é˜²æ­¢ä¸åŒæºä¹‹é—´çš„è¯·æ±‚ï¼Œå¹¶é™åˆ¶åŸºäºæµè§ˆå™¨çš„æ”»å‡»ã€‚

åŒæºç­–ç•¥åŸºäºæºçš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼š
- Origin Domain:èµ„æºæ¥æºçš„ç½‘é¡µçš„åŸŸåï¼Œä¾‹å¦‚â€œexample.comâ€ã€‚
- Protocol:ç”¨äºè®¿é—®ç½‘é¡µçš„é€šä¿¡åè®®ï¼Œä¾‹å¦‚â€œhttps://â€æˆ–â€œhttp://â€ã€‚
- Port:é»˜è®¤å€¼ä¸ºâ€œ80â€æˆ–â€œ443â€ã€‚

æ­¤ç­–ç•¥å¯ç¡®ä¿ç½‘é¡µåªèƒ½è®¿é—®å…¶æ‰€å±åŒä¸€æºçš„èµ„æºã€‚ä¾‹å¦‚ï¼ŒJavaScript åªèƒ½ä»å…±äº«ç›¸åŒæºï¼ˆç›¸åŒåŸŸã€åè®®å’Œç«¯å£ï¼‰çš„èµ„æºä¸­æ£€ç´¢æ•°æ®ã€‚

#### 2. è·¨åŸŸèµ„æºå…±äº«ï¼š

è·¨æºèµ„æºå…±äº« ï¼ˆCORSï¼‰ æ˜¯ä¸€ç§ç”¨äºå…‹æœåŒæºç­–ç•¥æ–½åŠ çš„é™åˆ¶çš„æœºåˆ¶ã€‚CORS å…è®¸ Web æµè§ˆå™¨æ”¾å®½é™åˆ¶ï¼Œå¹¶ä¸ºæ¥è‡ªä¸åŒæºçš„è¯·æ±‚æˆäºˆå¯¹å…¶èµ„æºçš„è®¿é—®æƒé™ã€‚å®ƒæ˜¯ä¸€ç§åŸºäº HTTP header(æ ‡å¤´)çš„æœºåˆ¶ã€‚

å½“ Web æµè§ˆå™¨å‘å…¶ä»–æºï¼ˆåŸŸã€åè®®æˆ–ç«¯å£ï¼‰å‘å‡ºè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨å°†å¯åŠ¨ CORS è¿›ç¨‹ä»¥ç¡®å®šè¯·æ±‚çš„èµ„æºæ˜¯å¦å¯è®¿é—®ã€‚ä½œä¸ºå“åº”ï¼ŒæœåŠ¡å™¨åœ¨å…¶ HTTP å“åº”ä¸­åŒ…å«â€œAccess-Control-Allow-Originâ€æ ‡å¤´ã€‚æ­¤æ ‡å¤´æŒ‡å®šå…è®¸è®¿é—®æ‰€è¯·æ±‚èµ„æºçš„æºã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½äºâ€œexample.comâ€çš„ç½‘ç«™æƒ³è¦å‘ä½äºâ€œapi.example.orgâ€çš„ API å‘å‡ºè¯·æ±‚ï¼Œåˆ™ API æœåŠ¡å™¨éœ€è¦åœ¨å…¶å“åº”ä¸­åŒ…å«ä»¥ä¸‹æ ‡å¤´ï¼š

```
Access-Control-Allow-Origin: https://example.com
```

ä½¿ç”¨æ­¤æ ‡å¤´ï¼ŒAPI æœåŠ¡å™¨æ˜¾å¼æˆäºˆâ€œexample.comâ€å¤„çš„ç½‘ç«™è®¿é—®å…¶èµ„æºçš„æƒé™ã€‚å¦‚æœè¯·æ±‚æºæœªåœ¨â€œè®¿é—®æ§åˆ¶å…è®¸æºâ€æ ‡å¤´ä¸­åˆ—å‡ºæˆ–ç¼ºå°‘æ ‡å¤´ï¼Œåˆ™æµè§ˆå™¨å°†å¼ºåˆ¶æ‰§è¡ŒåŒæºç­–ç•¥å¹¶æ‹’ç»å¯¹è¯·æ±‚èµ„æºçš„è®¿é—®ã€‚

CORS è¿˜åŒ…æ‹¬å…¶ä»–æ ‡å¤´ï¼Œä¾‹å¦‚â€œAccess-Control-Allow-Methodsâ€(è®¿é—®æ§åˆ¶å…è®¸æ–¹æ³•)å’Œâ€œAccess-Control-Allow-Headersâ€(è®¿é—®æ§åˆ¶å…è®¸æ ‡å¤´)ï¼Œç”¨äºæŒ‡å®šè·¨æºè¯·æ±‚å…è®¸çš„ HTTP æ–¹æ³•å’Œæ ‡å¤´ã€‚

è®©æˆ‘ä»¬å¯è§†åŒ– CORSï¼š

[](./images/ARTS-week-31-1.png)


#### æ€»ç»“

SOP å’Œ CORS æ˜¯ç¡®ä¿ Web å®‰å…¨å’Œæµè§ˆå™¨å®‰å…¨çš„åŸºæœ¬æ¦‚å¿µã€‚è™½ç„¶åŒæºç­–ç•¥é™åˆ¶ä¸åŒæºä¹‹é—´çš„è®¿é—®ï¼Œä½† CORS æä¾›äº†ä¸€ç§å—æ§æœºåˆ¶ï¼Œç”¨äºåœ¨éœ€è¦æ—¶æ”¾å®½è¿™äº›é™åˆ¶ã€‚é€šè¿‡åœ¨æœåŠ¡å™¨ç«¯æ­£ç¡®é…ç½® CORS æ ‡å¤´ï¼ŒWeb å¼€å‘äººå‘˜å¯ä»¥å…è®¸è·¨æºè¯·æ±‚ï¼ŒåŒæ—¶ä»ä¿æŒå®‰å…¨çš„ç¯å¢ƒã€‚

### 3.Tip:

#### Gradle æŸ¥çœ‹åŒ…çš„ä¾èµ–å…³ç³»

å·¥å…·æŸ¥çœ‹
- åœ¨ Android Studio ä¸­é€‰æ‹© View > Tool Windoors > Gradle æˆ–è€…ç›´æ¥é€‰æ‹© Gradleå·¥å…·æ 
- å±•å¼€AppName > Tasks > android , åŒå‡» androidDependencies
- é€‰æ‹© View > Tool Windows > Gradle Console ,æŸ¥çœ‹è¾“å‡ºçš„æ—¥å¿—

å‘½ä»¤æŸ¥çœ‹

- è¾“å‡ºæŸ¥è¯¢ç»“æœ
```shell
./gradlew :app:dependencies > log.txt
```

- æŸ¥çœ‹æŒ‡å®šåº“çš„ä¾èµ–å…³ç³»
```
 ./gradlew :app:dependencyInsight --dependency fastjson --configuration compile
```

### 4.Share:

[android çš„injustdecodebounds](https://blog.csdn.net/yezhouyong/article/details/50402022)

[Androidä¹‹Bitmapæ·±å…¥ç†è§£ï¼ˆBitmapFactoryï¼‰äºŒ](https://blog.csdn.net/tangedegushi/article/details/80257855?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-1-80257855-blog-50402022.235%5Ev38%5Epc_relevant_default_base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-1-80257855-blog-50402022.235%5Ev38%5Epc_relevant_default_base&utm_relevant_index=2)
