<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ARTS-week-2 | Oceantime&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Oceantime 个人网站">
    <link rel="preload" href="/assets/css/0.styles.abfd12c2.css" as="style"><link rel="preload" href="/assets/js/app.65b0f24a.js" as="script"><link rel="preload" href="/assets/js/2.d6ca9a42.js" as="script"><link rel="preload" href="/assets/js/16.fe37cbf7.js" as="script"><link rel="prefetch" href="/assets/js/10.ad6941e4.js"><link rel="prefetch" href="/assets/js/100.8ade9f63.js"><link rel="prefetch" href="/assets/js/101.a15dfa49.js"><link rel="prefetch" href="/assets/js/102.761bd3ff.js"><link rel="prefetch" href="/assets/js/103.4e1cd420.js"><link rel="prefetch" href="/assets/js/104.6cfd7216.js"><link rel="prefetch" href="/assets/js/105.e2d93a01.js"><link rel="prefetch" href="/assets/js/106.6151bc8f.js"><link rel="prefetch" href="/assets/js/107.ad872ea3.js"><link rel="prefetch" href="/assets/js/108.bc756e31.js"><link rel="prefetch" href="/assets/js/109.fe77c5ed.js"><link rel="prefetch" href="/assets/js/11.f05321e1.js"><link rel="prefetch" href="/assets/js/110.39bd8ea8.js"><link rel="prefetch" href="/assets/js/111.bd5d0a8b.js"><link rel="prefetch" href="/assets/js/112.66f93d20.js"><link rel="prefetch" href="/assets/js/113.e3f1b94f.js"><link rel="prefetch" href="/assets/js/114.6ca21a56.js"><link rel="prefetch" href="/assets/js/115.2369b994.js"><link rel="prefetch" href="/assets/js/116.ef676fd0.js"><link rel="prefetch" href="/assets/js/117.7762c22c.js"><link rel="prefetch" href="/assets/js/118.dc732d76.js"><link rel="prefetch" href="/assets/js/119.2b7f1a4d.js"><link rel="prefetch" href="/assets/js/12.b607cc9e.js"><link rel="prefetch" href="/assets/js/120.1b132ede.js"><link rel="prefetch" href="/assets/js/121.ff9a3172.js"><link rel="prefetch" href="/assets/js/122.2f47d49f.js"><link rel="prefetch" href="/assets/js/13.67af4ad6.js"><link rel="prefetch" href="/assets/js/14.c7827c0f.js"><link rel="prefetch" href="/assets/js/15.eedb1566.js"><link rel="prefetch" href="/assets/js/17.a38f0ae2.js"><link rel="prefetch" href="/assets/js/18.4990ee61.js"><link rel="prefetch" href="/assets/js/19.f4dbb6de.js"><link rel="prefetch" href="/assets/js/20.9ffd67c9.js"><link rel="prefetch" href="/assets/js/21.ac6e1d53.js"><link rel="prefetch" href="/assets/js/22.76b0e02e.js"><link rel="prefetch" href="/assets/js/23.ff3410dc.js"><link rel="prefetch" href="/assets/js/24.f76a6fea.js"><link rel="prefetch" href="/assets/js/25.0534f43c.js"><link rel="prefetch" href="/assets/js/26.c3725782.js"><link rel="prefetch" href="/assets/js/27.deb9c9f3.js"><link rel="prefetch" href="/assets/js/28.6f99ddc2.js"><link rel="prefetch" href="/assets/js/29.02cfc711.js"><link rel="prefetch" href="/assets/js/3.9f6270c9.js"><link rel="prefetch" href="/assets/js/30.ccabc2c3.js"><link rel="prefetch" href="/assets/js/31.b08f8990.js"><link rel="prefetch" href="/assets/js/32.ee62ba38.js"><link rel="prefetch" href="/assets/js/33.f7629f38.js"><link rel="prefetch" href="/assets/js/34.2853c933.js"><link rel="prefetch" href="/assets/js/35.97e611fd.js"><link rel="prefetch" href="/assets/js/36.fa3c8ed4.js"><link rel="prefetch" href="/assets/js/37.8ae8d904.js"><link rel="prefetch" href="/assets/js/38.05c35d7b.js"><link rel="prefetch" href="/assets/js/39.e5258c9e.js"><link rel="prefetch" href="/assets/js/4.ecc02e05.js"><link rel="prefetch" href="/assets/js/40.d668fe84.js"><link rel="prefetch" href="/assets/js/41.c09eb1d5.js"><link rel="prefetch" href="/assets/js/42.b940c3f3.js"><link rel="prefetch" href="/assets/js/43.5f4e8385.js"><link rel="prefetch" href="/assets/js/44.7231a1e4.js"><link rel="prefetch" href="/assets/js/45.585825f0.js"><link rel="prefetch" href="/assets/js/46.14ddc0e4.js"><link rel="prefetch" href="/assets/js/47.52d53fb0.js"><link rel="prefetch" href="/assets/js/48.01214996.js"><link rel="prefetch" href="/assets/js/49.a8e7ddc6.js"><link rel="prefetch" href="/assets/js/5.755ee6e4.js"><link rel="prefetch" href="/assets/js/50.8ef31d09.js"><link rel="prefetch" href="/assets/js/51.86c845e5.js"><link rel="prefetch" href="/assets/js/52.0d1a6570.js"><link rel="prefetch" href="/assets/js/53.0b2ca6b6.js"><link rel="prefetch" href="/assets/js/54.daa0b522.js"><link rel="prefetch" href="/assets/js/55.b7e6d8cc.js"><link rel="prefetch" href="/assets/js/56.67e22da8.js"><link rel="prefetch" href="/assets/js/57.1b8d87fd.js"><link rel="prefetch" href="/assets/js/58.4ef89df1.js"><link rel="prefetch" href="/assets/js/59.abdf0f5c.js"><link rel="prefetch" href="/assets/js/6.3df7280b.js"><link rel="prefetch" href="/assets/js/60.35f8805b.js"><link rel="prefetch" href="/assets/js/61.68fa7ebd.js"><link rel="prefetch" href="/assets/js/62.fd6b0085.js"><link rel="prefetch" href="/assets/js/63.af0dbde2.js"><link rel="prefetch" href="/assets/js/64.16a1ffec.js"><link rel="prefetch" href="/assets/js/65.af1a9908.js"><link rel="prefetch" href="/assets/js/66.0ab56108.js"><link rel="prefetch" href="/assets/js/67.7b28f376.js"><link rel="prefetch" href="/assets/js/68.be9ab4b2.js"><link rel="prefetch" href="/assets/js/69.c030abbd.js"><link rel="prefetch" href="/assets/js/7.3549904d.js"><link rel="prefetch" href="/assets/js/70.1469061c.js"><link rel="prefetch" href="/assets/js/71.4802b635.js"><link rel="prefetch" href="/assets/js/72.83cb541b.js"><link rel="prefetch" href="/assets/js/73.3ad064c7.js"><link rel="prefetch" href="/assets/js/74.00cd90be.js"><link rel="prefetch" href="/assets/js/75.cbf47e0f.js"><link rel="prefetch" href="/assets/js/76.44ccee9d.js"><link rel="prefetch" href="/assets/js/77.e9c38d7e.js"><link rel="prefetch" href="/assets/js/78.9122406c.js"><link rel="prefetch" href="/assets/js/79.5478a7f9.js"><link rel="prefetch" href="/assets/js/8.183e1cde.js"><link rel="prefetch" href="/assets/js/80.81f8b615.js"><link rel="prefetch" href="/assets/js/81.ceada5ea.js"><link rel="prefetch" href="/assets/js/82.6106ff2d.js"><link rel="prefetch" href="/assets/js/83.59665864.js"><link rel="prefetch" href="/assets/js/84.14e761a8.js"><link rel="prefetch" href="/assets/js/85.dd1f6fdb.js"><link rel="prefetch" href="/assets/js/86.c780faa6.js"><link rel="prefetch" href="/assets/js/87.b6a78c96.js"><link rel="prefetch" href="/assets/js/88.e6f83878.js"><link rel="prefetch" href="/assets/js/89.3b38af38.js"><link rel="prefetch" href="/assets/js/9.d9ab8dd1.js"><link rel="prefetch" href="/assets/js/90.64e54699.js"><link rel="prefetch" href="/assets/js/91.b0c97860.js"><link rel="prefetch" href="/assets/js/92.a49f1aa9.js"><link rel="prefetch" href="/assets/js/93.30383993.js"><link rel="prefetch" href="/assets/js/94.e5ff08c3.js"><link rel="prefetch" href="/assets/js/95.6ee9cb6c.js"><link rel="prefetch" href="/assets/js/96.829351f9.js"><link rel="prefetch" href="/assets/js/97.dcf9c2e9.js"><link rel="prefetch" href="/assets/js/98.58af886e.js"><link rel="prefetch" href="/assets/js/99.d137b7f6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.abfd12c2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Oceantime's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/accumulate/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法题库
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/accumulate/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法题库
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ARTS-week-2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2019/ARTS-week-2.html#arts-2019-左耳听风社群活动-每周完成一个-arts" class="sidebar-link">ARTS-2019 左耳听风社群活动--每周完成一个 ARTS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2019/ARTS-week-2.html#_1-algorithm" class="sidebar-link">1.Algorithm:</a></li><li class="sidebar-sub-header"><a href="/2019/ARTS-week-2.html#_2-review" class="sidebar-link">2.Review:</a></li><li class="sidebar-sub-header"><a href="/2019/ARTS-week-2.html#_3-tip" class="sidebar-link">3.Tip:</a></li><li class="sidebar-sub-header"><a href="/2019/ARTS-week-2.html#_4-share" class="sidebar-link">4.Share:</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="arts-2019-左耳听风社群活动-每周完成一个-arts"><a href="#arts-2019-左耳听风社群活动-每周完成一个-arts" class="header-anchor">#</a> ARTS-2019 左耳听风社群活动--每周完成一个 ARTS</h2> <p>1.Algorithm： 每周至少做一个 leetcode 的算法题
2.Review: 阅读并点评至少一篇英文技术文章
3.Tip: 学习至少一个技术技巧
4.Share: 分享一篇有观点和思考的技术文章</p> <h3 id="_1-algorithm"><a href="#_1-algorithm" class="header-anchor">#</a> 1.Algorithm:</h3> <p>Add Two Numbers：https://leetcode.com/submissions/detail/258727869/</p> <h3 id="_2-review"><a href="#_2-review" class="header-anchor">#</a> 2.Review:</h3> <p>Metrics to Understand &amp; Tackle Technical Debt
https://www.notion.so/stepsize/3-Metrics-to-Understand-Tackle-Technical-Debt-4e7442a592cf40759bdd7e3733b7f815</p> <p>点评：
通过快速行动承担债务是理解系统如何构建及目的的短途径。文章提到了3个有效指标来衡量技术债务，优先偿还并持续跟踪进展。</p> <p>所有权，防止缺陷和不必要的技术债
定义：
修订版本数计每个文件的历史活动及使用时间的折扣因子来计算所有权。超过n%所有权的贡献者为主要贡献者，所有其他贡献者为次要贡献者。
如何跟踪：
1.由所有者审查次要贡献者贡献及减少贡献
2.识别若拥有域定义所有者并计划提供其所有权</p> <p>内聚力提升架构
定义：
提交都在路径内部的文件中为内聚提交，否则是非内聚提交。内聚提交和提交总数的比例为内聚力。
如何跟踪：
1.内聚占比：组件内部的修改可以隔离或减少对其他组件的影响。
2.耦合组件：了解那些组件和此组件有耦合，耦合强度，并找到根本原因。</p> <p>流失以识别问题区域
定义：
过去1个月未修改的路径为稳定
过去1个月至少修改过2次的路径为活动
过去n个月也处于活动状态的路径为循环活动
如何跟踪：
1.改动频繁的文件:检查改动较多的文件确认是否和预期的，还是为了确保生产力避免意外而偿还的技术债务
2.检查文件更改频率：所有更改都进行审核，因为与缺陷密切相关
3.改动文件的比例：增长系统，指标保持在各个组件的水平，成熟系统，最小化次指标趋于稳定</p> <h3 id="_3-tip"><a href="#_3-tip" class="header-anchor">#</a> 3.Tip:</h3> <p>linux Expect 是一个用来处理交互的命令。借助 Expect 我们可以将交互过程写在一个脚本上，使之自动化完成。形象的说，ssh 登录，ftp 登录等都符合交互的定义。</p> <p>shell 脚本实现 ssh 自动登录远程服务器示例:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/usr/bin/expect</span>
spawn <span class="token function">ssh</span> root@192.168.22.194
<span class="token function">expect</span> <span class="token string">&quot;*password:&quot;</span>
send <span class="token string">&quot;123<span class="token entity" title="\r">\r</span>&quot;</span>
<span class="token function">expect</span> <span class="token string">&quot;*#&quot;</span>
interact
</code></pre></div><p>Expect 中最关键的四个命令是 send expect spawn interact</p> <div class="language-xml extra-class"><pre class="language-xml"><code>send：用于向进程发送字符串
expect：从进程接收字符串
spawn：启动新的进程
interact：允许用户交互
</code></pre></div><ol><li>send 命令：接收一个字符串参数，并将该参数发送到进程</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>expect1.<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> send <span class="token string">&quot;hello world<span class="token entity" title="\n">\n</span>&quot;</span>
hello world
</code></pre></div><ol start="2"><li>expect 命令：和 send 命令正好相反，expect 通常是用来等待一个进程的反馈。 expect 可以接收一个字符串参数，也可以接收正则表达式参数。和上文的 send 命令结合，现在我们可以看一个最简单的交互式的例子：
(1)基础知识</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">expect</span> <span class="token string">&quot;hi<span class="token entity" title="\n">\n</span>&quot;</span>
send <span class="token string">&quot;hello there!<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token comment">#这两行代码的意思是：从标准输入中等到hi和换行键后，向标准输出输出 hello there。</span>

<span class="token comment">#tips： $expect_out(buffer)存储了所有对expect的输入，&lt;$expect_out(0,string)&gt;存储了匹配到expect参数的输入。</span>
<span class="token comment">#比如如下程序：</span>

<span class="token function">expect</span> <span class="token string">&quot;hi<span class="token entity" title="\n">\n</span>&quot;</span>
send <span class="token string">&quot;you typed &lt;<span class="token variable">$expect_out</span>(buffer)&gt;&quot;</span>
send <span class="token string">&quot;but I only expected &lt;<span class="token variable">$expect_out</span>(0,string)&gt;&quot;</span>
<span class="token comment">#当在标准输入中输入</span>

<span class="token builtin class-name">test</span>
hi
<span class="token comment">#是，运行结果如下</span>

you typed: <span class="token builtin class-name">test</span>
hi
I only expect: hi
</code></pre></div><p>(2)模式-动作</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#expect 最常用的语法是来自 tcl 语言的模式-动作。 这种语法极其灵活，下面我们就各种语法分别说明。</span>

<span class="token comment">#单一分支模式语法：</span>

<span class="token function">expect</span> <span class="token string">&quot;hi&quot;</span> <span class="token punctuation">{</span>send <span class="token string">&quot;You said hi&quot;</span><span class="token punctuation">}</span>
<span class="token comment">#匹配到hi后，会输出&quot;you said hi&quot;</span>

<span class="token comment">#多分支模式语法：</span>

<span class="token function">expect</span> <span class="token string">&quot;hi&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;You said hi<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">\</span>
<span class="token string">&quot;hello&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;Hello yourself<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">\</span>
<span class="token string">&quot;bye&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;That was unexpected<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token punctuation">}</span>
<span class="token comment">#匹配到 hi hello bye 任意一个字符串时，执行相应的输出。等同于如下写法：</span>

<span class="token function">expect</span> <span class="token punctuation">{</span>
<span class="token string">&quot;hi&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;You said hi<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">}</span>
<span class="token string">&quot;hello&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;Hello yourself<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">}</span>
<span class="token string">&quot;bye&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;That was unexpected<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>spawn 命令：上文的所有 demo 都是和标准输入输出进行交互，但是我们跟希望他可以和某一个进程进行交互。 spawm 命令就是用来启动新的进程的。 spawn 后的 send 和 expect 命令都是和 spawn 打开的进程进行交互的。 结合上文的 send 和 expect 命令我们可以看一下更复杂的程序段了。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">set</span> <span class="token function">timeout</span> -1
spawn <span class="token function">ftp</span> ftp.test.com      <span class="token comment"># 打开新的进程，该进程用户连接远程ftp服务器</span>
<span class="token function">expect</span> <span class="token string">&quot;Name&quot;</span>               <span class="token comment"># 进程返回Name时</span>
send <span class="token string">&quot;user<span class="token entity" title="\r">\r</span>&quot;</span>               <span class="token comment"># 向进程输入anonymous\r</span>
<span class="token function">expect</span> <span class="token string">&quot;Password:&quot;</span>          <span class="token comment"># 进程返回Password:时</span>
send <span class="token string">&quot;123456<span class="token entity" title="\r">\r</span>&quot;</span>             <span class="token comment"># 向进程输入don@libes.com\r</span>
<span class="token function">expect</span> <span class="token string">&quot;ftp&gt; &quot;</span>              <span class="token comment"># 进程返回ftp&gt;时</span>
send <span class="token string">&quot;binary<span class="token entity" title="\r">\r</span>&quot;</span>             <span class="token comment"># 向进程输入binary\r</span>
<span class="token function">expect</span> <span class="token string">&quot;ftp&gt; &quot;</span>              <span class="token comment"># 进程返回ftp&gt;时</span>
send <span class="token string">&quot;get test.tar.gz<span class="token entity" title="\r">\r</span>&quot;</span>    <span class="token comment"># 向进程输入get test.tar.gz\r</span>
<span class="token comment">#这段代码的作用是登录到 ftp 服务器 ftp ftp.uu.net 上，并以二进制的方式下载服务器上的文件 test.tar.gz 。</span>
</code></pre></div><ol start="4"><li>interact 命令：到现在为止，我们已经可以结合 spawn expect send自动化的完成很多任务了。 但是，如何让人在适当的时候干预这个过程了。比如下载完 ftp 文件时，仍然可以停留在 ftp 命令行状态，以便手动的执行后续命令。 interact 可以达到这些目的。
下面一段脚本实现了从机器 A 登录到机器 B ，然后执行机器 B 上的 pwd 命令，并停留在 B 机器上，等待用户交互。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/home/tools/bin/64/expect -f</span>
 <span class="token builtin class-name">set</span> <span class="token function">timeout</span> -1  
 spawn <span class="token function">ssh</span> <span class="token variable">$BUser</span>@<span class="token variable">$BHost</span>
 <span class="token function">expect</span>  <span class="token string">&quot;*password:&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;<span class="token variable">$password</span><span class="token entity" title="\r">\r</span>&quot;</span> <span class="token punctuation">}</span>
 <span class="token function">expect</span>  <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span> <span class="token punctuation">{</span> send <span class="token string">&quot;pwd<span class="token entity" title="\r">\r</span>&quot;</span> <span class="token punctuation">}</span>
 interact
</code></pre></div><h3 id="_4-share"><a href="#_4-share" class="header-anchor">#</a> 4.Share:</h3> <p>OpenSSL 证书生成及Mac上Apache服务器配置 HTTPS(https://www.jianshu.com/p/b2a9655fe687)</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.65b0f24a.js" defer></script><script src="/assets/js/2.d6ca9a42.js" defer></script><script src="/assets/js/16.fe37cbf7.js" defer></script>
  </body>
</html>
