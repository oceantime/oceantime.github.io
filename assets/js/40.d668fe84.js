(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{420:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"arts-2019-左耳听风社群活动-每周完成一个-arts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arts-2019-左耳听风社群活动-每周完成一个-arts"}},[s._v("#")]),s._v(" ARTS-2019 左耳听风社群活动--每周完成一个 ARTS")]),s._v(" "),a("p",[s._v("1.Algorithm： 每周至少做一个 leetcode 的算法题\n2.Review: 阅读并点评至少一篇英文技术文章\n3.Tip: 学习至少一个技术技巧\n4.Share: 分享一篇有观点和思考的技术文章")]),s._v(" "),a("h3",{attrs:{id:"_1-algorithm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-algorithm"}},[s._v("#")]),s._v(" 1.Algorithm:")]),s._v(" "),a("p",[s._v("Binary Tree Preorder Traversal https://leetcode.com/submissions/detail/312666779/")]),s._v(" "),a("h3",{attrs:{id:"_2-review"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-review"}},[s._v("#")]),s._v(" 2.Review:")]),s._v(" "),a("p",[s._v("https://www.binarytides.com/linux-scp-command")]),s._v(" "),a("h4",{attrs:{id:"点评："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#点评："}},[s._v("#")]),s._v(" 点评：")]),s._v(" "),a("p",[s._v("Scp(Secure Copy) 是一个在各个主机之间进行复制或者文件传输的一个命令行工具。它使用一种同ssh一样的安全机制。事实上，它在后台使用ssh连接来进行文件的传输。scp既指一种定义安全复制应该如何工作的协议，也指一种可以被安装的作为OpenSSH工具套的一部分的软件或是指令。本文作者在这篇简单的教程中，例出 12 种 scp 指令的场景以及如何使用它进行安全的文件传输。")]),s._v(" "),a("ol",[a("li",[s._v("详细输出")]),s._v(" "),a("li",[s._v("多文件传输")]),s._v(" "),a("li",[s._v("复制整个文件夹（递归）")]),s._v(" "),a("li",[s._v("在两个远程主机之间复制文件")]),s._v(" "),a("li",[s._v("用压缩来加快传输")]),s._v(" "),a("li",[s._v("限制带宽的使用")]),s._v(" "),a("li",[s._v("在远程主机上连接一个不同的端口")]),s._v(" "),a("li",[s._v("保存文件属性")]),s._v(" "),a("li",[s._v("静默模式")]),s._v(" "),a("li",[s._v("特殊标识文件")]),s._v(" "),a("li",[s._v("使用不同的ssh_config文件")]),s._v(" "),a("li",[s._v("使用不同的加密")])]),s._v(" "),a("p",[s._v("总结：\n尽管 SCP 在安全地传输文件方面是非常有效的，它缺乏一个文件同步工具必要的功能。它所能做的就是复制粘贴上述所有文件从一个位置到另一个位置。一个更强大的工具的 Rsync 它不仅具有 SCP 的所有功能，而且增加了更多的功能用来在2个主机智能同步文件。例如，它可以检查并上传只有修改过的文件，忽略现有的文件等等。")]),s._v(" "),a("h3",{attrs:{id:"_3-tip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-tip"}},[s._v("#")]),s._v(" 3.Tip:")]),s._v(" "),a("p",[s._v("git命令下载代码中断恢复")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行git下载命令：")]),s._v("\n~/source/$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone --recursive https://github.com/manic-3dprint/EzArduinoGamePad.git\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载异常提示：")]),s._v("\nerror: RPC failed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" GnuTLS recv error "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": A TLS packet with unexpected length was received.\nfatal: The remote end hung up unexpectedly\nfatal: early EOF\nfatal: index-pack failed\nfatal: clone of "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://github.com/manic-3dprint/EzArduinoGamePad.git'")]),s._v(" into submodule path "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'third_party/protobuf'")]),s._v(" failed\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 EzArduinoGamePad 刚刚下载的目录")]),s._v("\n~/source/$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" EzArduinoGamePad\n~/source/EzArduinoGamePad$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" submodule update --init --recursive\n\n")])])]),a("p",[s._v("Anaconda在已有python3.6的情况下安装python2.7")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建 python27 环境 (Anaconda -> Enviroments -> base(root) -> Open Terminal) 中执行")]),s._v("\nconda create -n python27 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("python")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装环境")]),s._v("\nconda info -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 会看到安装的环境列表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  (base) C:\\Users\\name>conda info -e")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  WARNING: The conda.compat module is deprecated and will be removed in a future release.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  # conda environments:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  #")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  base                  *  C:\\Users\\name\\Anaconda3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  python27              *  C:\\Users\\name\\Anaconda3\\envs\\python27")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (base) C:\\Users\\name>")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到python27环境下")]),s._v("\nconda activate python27\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切回到base环境")]),s._v("\ndeactivate\n\n")])])]),a("p",[s._v("日志采集 FileBeat -> Redis -> Logstash 配置")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# FileBeat -> Redis")]),s._v("\nfilebeat.inputs:\n- type: log\n  enabled: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  paths:\n    - /usr/local/openresty/nginx/logs/access.log\n  fields:\n    log_source: messages\n  fields_under_root: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\noutput.redis:\n  hosts: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.0.1:6379"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  key: nginx_log\n  password: password\n  db: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis -> Logstash")]),s._v("\ninput "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  redis "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    batch_count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#EVAL命令返回的事件数目")]),s._v("\n    data_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"list"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#logstash redis插件工作方式")]),s._v("\n    key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logstash-test-list"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#监听的键值")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#redis地址")]),s._v("\n    port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#redis端口号")]),s._v("\n    codec "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plain"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编码插件json")]),s._v("\n    password "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123qwe"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果有安全认证，此项为密码")]),s._v("\n    db "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#redis数据库的编号")]),s._v("\n    threads "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启用线程数量")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\noutput "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## db")]),s._v("\nRedis里面有数据库的概念，一般是16个，默认登录后是0，可以通过命令选择。如果应用系统选择使用了不同的数据库，那么可以通过配置这个参数从指定的数据库中读取信息。\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## key")]),s._v("\nRedis中的数据都是通过键值来索引的，不管是字符串还是列表，所以这个key相当于数据库中的表。\n如果是list或者channel模式，key都是指定的键值；而如果是pattern_channel，那么key可以通过glob通配的方式来指定。\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## password")]),s._v("\n有的Redis为了安全，是需要进行验证的。只有设置了password，才能正确的读取信息。相反，如果redis没有设置密码，而logstash中配置了密码，也会报错！\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## batch_count")]),s._v("\n这个属性设置了服务器端返回的事件数目，比如设置了5条，那么每次请求最多会直接获取5条日志返回。\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## data_type logstash工作的类型")]),s._v("\nlogstash中的redis插件，指定了三种方式来读取redis队列中的信息。\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("list")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("BLPOP\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("channel")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("SUBSCRIBE\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pattern_channel")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("PSUBSCRIBE\n其中list，相当于队列；\nchannel相当于发布订阅的某个特定的频道；\npattern_channel相当于发布订阅某组频道；\nchannel与pattern_channel区别就在于一个是监听特定的键值，一个是监听某一组键值。\n")])])]),a("h3",{attrs:{id:"_4-share"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-share"}},[s._v("#")]),s._v(" 4.Share:")]),s._v(" "),a("p",[s._v("Logstash最佳实践\nhttp://doc.yonyoucloud.com/doc/logstash-best-practice-cn/index.html\nCentOS 7离线安装Redis\nhttps://www.jellythink.com/archives/379\n使用Redis的用户要请往这瞅瞅，小心数据泄漏！\nhttps://bbs.huaweicloud.com/blogs/103636")])])}),[],!1,null,null,null);t.default=e.exports}}]);